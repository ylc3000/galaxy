<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>软件Bug：低维投影的宿命 | 知识卡片</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700;900&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- html2canvas for export functionality -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: 'Noto Serif SC', serif;
            background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; padding: 20px; margin: 0;
        }
        .card-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; max-width: 1400px; }
        .card {
            width: 400px; height: 533px; /* 3:4 ratio */
            background: white; position: relative; border: none;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            overflow: hidden; display: flex; flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 25px 50px rgba(0, 0, 0, 0.12); }
        /* 琉光手稿风格 - 玻璃拟态效果 */
        .glass-effect {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }
        .header-area {
            padding: 30px 30px 20px; text-align: center; flex-shrink: 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            background: linear-gradient(135deg, #ffffff 0%, #fcfcfc 100%);
            position: relative;
        }
        .header-area::after {
            content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
            width: 80px; height: 3px; background: linear-gradient(90deg, #0ea5e9 0%, #3b82f6 100%);
        }
        .content-area { padding: 25px 30px; flex-grow: 1; overflow-y: auto; }
        .card-number {
            position: absolute; bottom: 20px; right: 25px;
            font-family: 'Poppins', sans-serif; font-weight: 300; font-size: 14px; color: #999;
        }
        /* 字体系统 - 结构性反差 */
        .chinese-font { font-family: 'Noto Serif SC', serif; }
        .english-font { font-family: 'Poppins', sans-serif; font-weight: 300; }
        h1 {
            font-size: 30px; font-weight: 900; margin: 0 0 8px 0; line-height: 1.2;
            color: #1a1a1a; letter-spacing: -0.5px;
        }
        h2 {
            font-size: 16px; font-weight: 500; margin: 0 0 15px 0;
            color: #4a5568; letter-spacing: 1.5px; text-transform: uppercase;
        }
        h3 {
            font-size: 19px; font-weight: 700; margin: 0 0 20px 0; color: #0ea5e9;
            position: relative; padding-bottom: 10px;
        }
        h3:after {
            content: ''; position: absolute; bottom: 0; left: 0;
            width: 40px; height: 3px; background: linear-gradient(90deg, #0ea5e9 0%, #3b82f6 100%);
        }
        .core-concept {
            font-size: 14.5px; line-height: 1.7; color: #5a6c7d; margin-bottom: 25px;
            padding-bottom: 20px; border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-style: italic; background-color: #f8fafc; padding: 15px;
            border-radius: 4px; border-left: 4px solid #cbd5e0;
        }
        .dimension-comparison {
            display: flex; justify-content: space-between; margin: 25px 0;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 6px; padding: 20px;
        }
        .dimension-column { width: 48%; }
        .dimension-title {
            font-weight: 700; color: #0369a1; margin-bottom: 10px;
            display: flex; align-items: center; gap: 8px; font-size: 16px;
        }
        .dimension-list { font-size: 14px; line-height: 1.6; color: #4a5568; }
        .dimension-list li { margin-bottom: 8px; position: relative; padding-left: 16px; }
        .dimension-list li:before {
            content: '•'; position: absolute; left: 0; color: #0ea5e9; font-weight: bold;
        }
        .principle-item {
            margin-bottom: 22px; padding-bottom: 22px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.04); position: relative;
        }
        .principle-item:last-child { margin-bottom: 0; border-bottom: none; }
        .principle-header { display: flex; align-items: flex-start; margin-bottom: 10px; }
        .principle-icon {
            display: flex; align-items: center; justify-content: center;
            width: 28px; height: 28px; background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
            color: white; font-size: 14px; font-weight: 700; border-radius: 6px;
            margin-right: 12px; flex-shrink: 0; box-shadow: 0 4px 8px rgba(14, 165, 233, 0.2);
        }
        .principle-title {
            font-size: 17px; font-weight: 700; color: #0ea5e9; line-height: 1.3;
        }
        .principle-description {
            font-size: 14.5px; line-height: 1.7; color: #4a5568; padding-left: 40px;
        }
        .principle-highlight {
            color: #0369a1; font-weight: 700; background-color: rgba(14, 165, 233, 0.05);
            padding: 2px 6px; border-radius: 3px;
        }
        .wisdom-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid #0ea5e9; padding: 16px; margin: 20px 0;
            font-size: 14.5px; line-height: 1.7; color: #4a5568; border-radius: 0 4px 4px 0;
        }
        .brand-mark {
            position: absolute; top: 20px; right: 25px;
            font-family: 'Noto Serif SC', serif; font-size: 14px; color: #999;
            letter-spacing: 1px; z-index: 10;
        }
        .button-container { margin-top: 30px; display: flex; justify-content: center; gap: 15px; }
        .btn {
            padding: 13px 26px; background: linear-gradient(90deg, #0ea5e9 0%, #3b82f6 100%);
            color: white; border: none; border-radius: 6px; font-family: 'Poppins', sans-serif;
            font-size: 15px; font-weight: 500; cursor: pointer; transition: all 0.3s;
            display: flex; align-items: center; gap: 8px; box-shadow: 0 6px 15px rgba(14, 165, 233, 0.25);
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(14, 165, 233, 0.3); }
        .btn-secondary {
            background: linear-gradient(90deg, #4a5568 0%, #2d3748 100%);
            box-shadow: 0 6px 15px rgba(74, 85, 104, 0.2);
        }
        .btn-secondary:hover { box-shadow: 0 10px 20px rgba(74, 85, 104, 0.3); }
        .card-navigation { display: flex; justify-content: center; margin-top: 20px; gap: 10px; }
        .nav-btn {
            width: 12px; height: 12px; border-radius: 50%; background-color: #cbd5e0;
            border: none; cursor: pointer; padding: 0; transition: all 0.3s;
        }
        .nav-btn.active {
            background: linear-gradient(90deg, #0ea5e9 0%, #3b82f6 100%); width: 35px;
            border-radius: 6px; box-shadow: 0 4px 8px rgba(14, 165, 233, 0.3);
        }
        .footer-note {
            text-align: center; margin-top: 25px; font-family: 'Poppins', sans-serif;
            font-size: 13px; color: #718096; max-width: 800px; line-height: 1.5;
        }
        /* 隐藏除第一张外的所有卡片 */
        .card:not(:first-child) { display: none; }
        /* 响应式调整 */
        @media (max-width: 500px) {
            .card { width: 350px; height: 467px; }
            h1 { font-size: 26px; }
            .content-area { padding: 20px; }
            .btn { padding: 11px 20px; font-size: 14px; }
        }
        /* 自定义滚动条 */
        .content-area::-webkit-scrollbar { width: 6px; }
        .content-area::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 3px; }
        .content-area::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #0ea5e9 0%, #3b82f6 100%); border-radius: 3px;
        }
        .content-area::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, #0284c7 0%, #2563eb 100%); }
    </style>
</head>
<body>
    <div class="card-container">
        <!-- 卡片 1: 核心概念 -->
        <div class="card glass-effect" id="card1">
            <div class="brand-mark">网闻录</div>
            <div class="header-area">
                <h1 class="chinese-font">软件Bug的本质</h1>
                <h2 class="english-font">THE NATURE OF SOFTWARE BUGS</h2>
            </div>
            <div class="content-area">
                <div class="core-concept chinese-font">
                    Bug不是错误，而是宿命。软件只是现实高维结构在低维空间的一次“压扁”后的投影。只要发生“压缩”，就必然有信息折损，这种折损的显影就是Bug[citation:1][citation:7]。
                </div>
                <h3 class="chinese-font">维度压缩：信息的必然折损</h3>
                <div class="dimension-comparison">
                    <div class="dimension-column">
                        <div class="dimension-title">
                            <i class="fas fa-globe-americas"></i>现实世界（高维）
                        </div>
                        <ul class="dimension-list chinese-font">
                            <li>动态、充满弹性</li>
                            <li>充满例外与隐含条件</li>
                            <li>结构彼此耦合、互相影响</li>
                            <li>不确定性是常态</li>
                        </ul>
                    </div>
                    <div class="dimension-column">
                        <div class="dimension-title">
                            <i class="fas fa-laptop-code"></i>软件系统（低维）
                        </div>
                        <ul class="dimension-list chinese-font">
                            <li>静态、可执行的层</li>
                            <li>流程图与状态机</li>
                            <li>确定的if-else逻辑</li>
                            <li>固化的数据结构</li>
                        </ul>
                    </div>
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-compress-alt"></i></div>
                        <div class="principle-title chinese-font">投影的宿命</div>
                    </div>
                    <p class="principle-description chinese-font">
                        软件开发的本质，是强行把高维、动态、充满例外的真实世界（如复杂的人类行为、模糊的业务逻辑），压扁到一个低维、静态、可执行的逻辑层里[citation:7]。这个过程必然伴随着巨大的信息折损。
                    </p>
                </div>
                <div class="wisdom-box chinese-font">
                    <i class="fas fa-exclamation-triangle" style="color: #0ea5e9; margin-right: 8px;"></i>
                    你以为是在修Bug，其实是结构在反抗降维。Bug不是代码写坏了，而是被压缩的维度在呼喊。
                </div>
            </div>
            <div class="card-number english-font">1/4</div>
        </div>

        <!-- 卡片 2: Bug的显现 -->
        <div class="card glass-effect" id="card2">
            <div class="brand-mark">网闻录</div>
            <div class="header-area">
                <h1 class="chinese-font">Bug的显现</h1>
                <h2 class="english-font">THE CRACKS IN PROJECTION</h2>
            </div>
            <div class="content-area">
                <h3 class="chinese-font">裂缝：现实对低维世界的突破</h3>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-cracked"></i></div>
                        <div class="principle-title chinese-font">维度差的显影</div>
                    </div>
                    <p class="principle-description chinese-font">
                        许多事后回看“挺合理”的Bug，本质上都是高维世界中正常存在的边界条件，但低维软件却无法承载[citation:4]。当现实强行介入，投影发生扭曲，裂缝便出现了。
                    </p>
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-unlink"></i></div>
                        <div class="principle-title chinese-font">脆弱的表象</div>
                    </div>
                    <p class="principle-description chinese-font">
                        你看到的“系统脆弱”现象——业务微调即崩、用户行为偏离即错、外部接口变化就报错——并非系统本身的问题[citation:1]。这实质上是<span class="principle-highlight">低维投影永远追不上高维真相</span>的必然结果。
                    </p>
                </div>
                <div class="wisdom-box chinese-font">
                    <i class="fas fa-code-branch" style="color: #0ea5e9; margin-right: 8px;"></i>
                    当两个维度之间存在无法弥合的差异时，错误就不再是错误，而是一种物理宿命。Bug是连接两个维度的裂缝。
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-history"></i></div>
                        <div class="principle-title chinese-font">现实的动态性</div>
                    </div>
                    <p class="principle-description chinese-font">
                        真实世界永不静止[citation:7]。它每天都在生长、分裂、融合、变化。而软件却是一次性的静态投影。今天投影完毕，明天现实结构就已改变，昨天的完美映射今天就已过时。
                    </p>
                </div>
            </div>
            <div class="card-number english-font">2/4</div>
        </div>

        <!-- 卡片 3: 传统工程的局限 -->
        <div class="card glass-effect" id="card3">
            <div class="brand-mark">网闻录</div>
            <div class="header-area">
                <h1 class="chinese-font">修不完的Bug</h1>
                <h2 class="english-font">THE LIMITS OF ENGINEERING</h2>
            </div>
            <div class="content-area">
                <h3 class="chinese-font">传统方法的根本局限</h3>
                <div class="core-concept chinese-font">
                    传统软件工程专注于“写更干净的代码”、“增加更多测试”[citation:2][citation:8]，但这并未触及Bug产生的本质——<span class="principle-highlight">维度差</span>。当维度差积累到一定程度，修补已无意义[citation:1]。
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-sync-alt"></i></div>
                        <div class="principle-title chinese-font">永恒的循环</div>
                    </div>
                    <p class="principle-description chinese-font">
                        软件的生命周期是三个状态的永恒循环：<span class="principle-highlight">1. 投影过期 → 2. 结构变化 → 3. 维度差暴露为Bug</span>。这不是管理问题，而是结构物理问题。
                    </p>
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-redo-alt"></i></div>
                        <div class="principle-title chinese-font">重写的必然性</div>
                    </div>
                    <p class="principle-description chinese-font">
                        老系统最终只能重写，不是因为代码“坏”了，而是因为<span class="principle-highlight">旧投影所基于的“宇宙常量”与新现实结构已不匹配</span>。重写不是激进的技术决策，而是一次必要的物理重置。
                    </p>
                </div>
                <div class="wisdom-box chinese-font">
                    <i class="fas fa-hammer" style="color: #0ea5e9; margin-right: 8px;"></i>
                    试图用低维方法（更多测试、更严流程）解决高维问题（结构差异），注定了传统软件工程在根除Bug上的无力。当维度差足够大，你不是在修Bug，而是在试图重新投影整个世界。
                </div>
            </div>
            <div class="card-number english-font">3/4</div>
        </div>

        <!-- 卡片 4: 未来方向 -->
        <div class="card glass-effect" id="card4">
            <div class="brand-mark">网闻录</div>
            <div class="header-area">
                <h1 class="chinese-font">未来的方向</h1>
                <h2 class="english-font">TOWARDS HIGHER DIMENSIONS</h2>
            </div>
            <div class="content-area">
                <h3 class="chinese-font">下一代软件：减少折损</h3>
                <div class="core-concept chinese-font">
                    未来的方向不是写出“零Bug”的代码（这不可能[citation:1]），而是构建<span class="principle-highlight">更高维度的软件系统</span>，使其能动态适应现实结构的变化，从而减少信息折损。
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-robot"></i></div>
                        <div class="principle-title chinese-font">高维软件的特征</div>
                    </div>
                    <p class="principle-description chinese-font">
                        • <span class="principle-highlight">自描述</span>：结构能让系统理解自己<br>
                        • <span class="principle-highlight">自修复</span>：错误能自动趋向自洽<br>
                        • <span class="principle-highlight">自演化</span>：投影能随结构实时更新<br>
                        • <span class="principle-highlight">结构保持</span>：系统不崩，而是自动“保持”形状
                    </p>
                </div>
                <div class="principle-item">
                    <div class="principle-header">
                        <div class="principle-icon"><i class="fas fa-brain"></i></div>
                        <div class="principle-title chinese-font">向AGI范式靠近</div>
                    </div>
                    <p class="principle-description chinese-font">
                        这种范式与人工通用智能（AGI）的追求内在一致：创造一个能够理解、适应并动态响应复杂、多变环境的系统。未来的软件将不再是静态的“产物”，而是<span class="principle-highlight">动态维持结构自洽的生命体</span>。
                    </p>
                </div>
                <div class="wisdom-box chinese-font" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);">
                    <i class="fas fa-gem" style="color: #0ea5e9; margin-right: 8px;"></i>
                    <strong>核心跃迁：</strong>理解“软件是低维投影”，意味着对软件的认知将从传统的“工程思维”（如何构建）跃迁到“结构物理思维”（如何映射）。Bug不再是需要消灭的敌人，而是揭示系统与真实世界维度差的重要信使。
                </div>
                <div class="principle-item" style="border-bottom: none; margin-top: 15px;">
                    <p class="principle-description chinese-font" style="font-weight: 700; color: #1e40af; padding-left: 0; text-align: center;">
                        软件之所以有Bug，是因为软件只是现实结构的低维投影。<br>Bug是结构在提醒你：维度不够。
                    </p>
                </div>
            </div>
            <div class="card-number english-font">4/4</div>
        </div>
    </div>

    <!-- 卡片导航 -->
    <div class="card-navigation">
        <button class="nav-btn active" data-card="1"></button>
        <button class="nav-btn" data-card="2"></button>
        <button class="nav-btn" data-card="3"></button>
        <button class="nav-btn" data-card="4"></button>
    </div>

    <!-- 按钮容器 -->
    <div class="button-container">
        <button class="btn" id="downloadBtn">
            <i class="fas fa-download"></i> 下载当前卡片
        </button>
        <button class="btn btn-secondary" id="downloadAllBtn">
            <i class="fas fa-images"></i> 下载全部卡片
        </button>
    </div>

    <div class="footer-note english-font">
        Designed with “琉光手稿” philosophy • Fusion of Print Order & Glassmorphism Futurism • Apple Minimalist Tech Style
    </div>

    <script>
        // 卡片导航功能
        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', function() {
                const cardId = this.getAttribute('data-card');
                document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                document.querySelectorAll('.card').forEach(card => card.style.display = 'none');
                document.getElementById(`card${cardId}`).style.display = 'flex';
            });
        });

        // 下载当前卡片为图片
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const cards = document.querySelectorAll('.card');
            let currentCard;
            for (const card of cards) {
                if (card.style.display !== 'none') { currentCard = card; break; }
            }
            if (!currentCard) currentCard = cards[0];

            html2canvas(currentCard, {
                scale: 2, backgroundColor: '#ffffff', useCORS: true, logging: false, allowTaint: true
            }).then(canvas => {
                const link = document.createElement('a');
                const cardNum = currentCard.querySelector('.card-number').textContent.replace('/', '-');
                link.download = `软件Bug的本质-低维投影的宿命-${cardNum}.png`;
                link.href = canvas.toDataURL('image/png'); link.click();
            });
        });

        // 下载全部卡片为图片
        document.getElementById('downloadAllBtn').addEventListener('click', function() {
            const cards = document.querySelectorAll('.card');
            const button = this;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 正在生成卡片...';
            button.disabled = true;

            const canvasPromises = Array.from(cards).map(card => html2canvas(card, {
                scale: 2, backgroundColor: '#ffffff', useCORS: true, logging: false, allowTaint: true
            }));

            Promise.all(canvasPromises).then(canvases => {
                let downloaded = 0;
                canvases.forEach((canvas, index) => {
                    setTimeout(() => {
                        const link = document.createElement('a');
                        const cardNum = cards[index].querySelector('.card-number').textContent.replace('/', '-');
                        link.download = `软件Bug的本质-低维投影的宿命-${cardNum}.png`;
                        link.href = canvas.toDataURL('image/png'); link.click();
                    }, downloaded * 300);
                    downloaded++;
                });
                setTimeout(() => {
                    button.innerHTML = originalText; button.disabled = false;
                    alert(`已开始下载 ${cards.length} 张卡片。如果浏览器阻止了多个下载，请检查下载设置或逐个下载卡片。`);
                }, 500);
            });
        });

        // 键盘导航支持
        document.addEventListener('keydown', function(event) {
            const activeNav = document.querySelector('.nav-btn.active');
            if (!activeNav) return;
            let currentCard = parseInt(activeNav.getAttribute('data-card'));
            if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {
                currentCard = currentCard < 4 ? currentCard + 1 : 1;
            } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {
                currentCard = currentCard > 1 ? currentCard - 1 : 4;
            } else return;
            document.querySelector(`.nav-btn[data-card="${currentCard}"]`).click();
        });

        // 自动轮播功能
        let autoSlideInterval;
        function startAutoSlide() {
            autoSlideInterval = setInterval(() => {
                const activeNav = document.querySelector('.nav-btn.active');
                let currentCard = parseInt(activeNav.getAttribute('data-card'));
                currentCard = currentCard < 4 ? currentCard + 1 : 1;
                document.querySelector(`.nav-btn[data-card="${currentCard}"]`).click();
            }, 10000);
        }
        function stopAutoSlide() { clearInterval(autoSlideInterval); }
        startAutoSlide();
        document.querySelectorAll('.card, .nav-btn, .btn').forEach(element => {
            element.addEventListener('mouseenter', stopAutoSlide);
            element.addEventListener('click', stopAutoSlide);
            element.addEventListener('mouseleave', () => { setTimeout(startAutoSlide, 2000); });
        });
    </script>
</body>
</html>